<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <h1>My Calculator</h1>
        <div class="display">
            <h2 id="displayTwo"></h2>
            <h1 id="displayArea"></h1>
        </div>
        <!-- <div class="panel">
            <input type="text" name="" id="">
            <input type="text" name="" id="">
        </div> -->
        <div class="panel">
            <input id="reset" type="button" value="AC">
            <input id="percentage" class="operatorBtn" type="button" value="%">
            <input id="divide" class="operatorBtn" type="button" value="/">
            <input id="backBtn" type="button" value="&#8678;">
        </div>
        <div class="panel">
            <input id="seven" class="numBtn" type="button" value="7">
            <input id="eight" class="numBtn" type="button" value="8">
            <input id="nine" class="numBtn" type="button" value="9">
            <input id="multiply" class="operatorBtn" type="button" value="*">
        </div>
        <div class="panel">
            <input id="four" class="numBtn" type="button" value="4">
            <input id="five" class="numBtn" type="button" value="5">
            <input id="six" class="numBtn" type="button" value="6">
            <input id="subtract" class="operatorBtn" type="button" value="-">
        </div>
        <div class="panel">
            <input id="one" class="numBtn" type="button" value="1">
            <input id="two" class="numBtn" type="button" value="2">
            <input id="three" class="numBtn" type="button" value="3">
            <input id="add" class="operatorBtn" type="button" value="+">
        </div>
        <div class="panel">
            <input id="zero" class="numBtn" type="button" value="0">
            <input id="dot" type="button" value=".">
            <input id="equals" type="button" value="=">
        </div>
    </div>
    <script>
        const display = document.querySelector('#displayArea');
        const displayTwo = document.querySelector('#displayTwo');

        const resetBtn = document.querySelector('#reset');
        resetBtn.addEventListener('click', resetAll = () => {
            display.textContent = '';
            displayTwo.textContent = '';
        })

        const backBtn = document.querySelector('#backBtn');
        backBtn.addEventListener('click', removeBackDigit = () => {
            let currentText = display.textContent;
            let updatedText = currentText.substring(0, currentText.length - 1);
            display.textContent = updatedText;
            console.log(updatedText);
        })
        
        const equals = document.querySelector('#equals')
        
        const numBtns = document.querySelectorAll('.numBtn');

        let numBtnValue;
        const numBtn = numBtns.forEach(numBtn => numBtn.addEventListener('click' , getNumBtnValue = () => {
            numBtnValue = numBtn.value;
            display.textContent += numBtnValue;
        }));

        const operators = {
            '+' : function(a,b) {return a+b},
            '-' : function(a,b) {return a-b},
            '*' : function(a,b) {return a*b},
            '/' : function(a,b) {return a/b},
            '%' : function(a) {return a}
        }

        const operatorBtns = document.querySelectorAll('.operatorBtn');

        let operator;


        function Operation() {
            let firstNumber = '';
            let firstInput = '';
            let secondNumber = '';

            const operatorBtn = operatorBtns.forEach(operatorBtn => operatorBtn.addEventListener ('click' , getOperator = () => {
                firstInput = display.textContent;
                firstNumber = parseInt(firstInput);
                operator = operatorBtn.value;
                console.log(firstNumber);
                display.textContent = ''
                console.log(operator)
            }))

            equals.addEventListener('click', function operate() {
                secondInput = display.textContent;
                secondNumber = parseInt(secondInput);
                let Operation = operators[operator](firstNumber,secondNumber);
                if(!secondNumber) {
                    Operation = operators[operator](firstNumber,firstNumber);
                }
                display.textContent = Operation;
                console.log(Operation);
                return Operation;
            })
        } 
        
        Operation()

        

        </script>
</body>
</html>